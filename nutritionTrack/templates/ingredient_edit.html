{% extends 'base.html' %}

{% block page_content %}
<h3>Ingredient {{func}} Page</h3>
    <form action="{% url 'ingredient_edit' func pk next_target %}" method="POST">
        {% csrf_token %}

        {% if ingredient %}
            <h4>{{ ingredient.name }}</h4>
        {% else %}
            <h4>Name</h4>
        {% endif %}
        <p>Write down a name</p>
        <div class="form-group">{{ form.name }}</div>

        <div >
            <h5>Kilokalories</h5>
            <p>{{ ingredient.kcals }}</p>
            <div class="form-group">{{ form.kcals }}</div>
        </div>
        
        <div class="form-group">
            <h5>Carbohydrates</h5>
            <p>{{ ingredient.carbs }}</p>
            <div class="form-group">{{ form.carbs }}</div>
        </div>

        <div class="form-group">
            <h5>Proteins</h5>
            <p>{{ ingredient.prots }}</p>
            <div class="form-group">{{ form.prots }}</div>
        </div>

        <div class="form-group">
            <h5>Fats</h5>
            <p>{{ ingredient.fats }}</p>
            <div class="form-group">{{ form.fats }}</div>
        </div>

        <button type="submit" class="btn btn-primary">Save</button>
    </form>
    {% if form.errors %}
        {% for field in form %}
            {% for error in field.errors %}
                <div class="alert alert-danger">
                    <strong>{{ error|escape }}</strong>
                </div>
            {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
            <div class="alert alert-danger">
                <strong>{{ error|escape }}</strong>
            </div>
        {% endfor %}
    {% endif %}
{% endblock %}